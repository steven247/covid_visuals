!function(){if(void 0===window.powerbiframehandlerscript){function e(e,t){if(e)for(var i=0;i<e.children.length;i++)if(e.children[i].tagName.toLowerCase()===t.toLowerCase())return e.children[i];return null}function n(t){if(t){var i=t.parentNode,n=e(i,"div");n&&i.removeChild(n);var r=i.querySelector(".pbi-resize-spinner");r&&i.removeChild(r),t.style.position="static",t.style.visibility="visible";var o=e(i,"img");o&&(o.style.display="none")}}function r(t,i){t.setAttribute("data-state",i);var o=t.querySelector(".pbi-resize-spinner");switch(t.innerHTML=""+o.outerHTML,i){case"loading":t.onclick=function(){r(t,"loadingnow")},t.parentNode.onclick=function(){r(t,"loadingnow")};break;case"readynow":p(),n(e(t.parentNode,"iframe"));break;case"ready":p(),(o=t.querySelector(".pbi-resize-spinner")).style.display="none",t.style.width="auto",t.onclick=function(t){n(e(t.target.parentNode,"iframe"))},t.parentNode.onclick=function(t){n(e(t.target.parentNode,"iframe"))}}}window.powerbiframehandlerscript=1,window.onmessage=function(t){if(function(e){try{if(e&&e.data&&"/reports/undefined/events/pageChanged"===e.data.url)return!0}catch(e){return}}(t)){var i=function(e){for(var t=document.getElementsByTagName("iframe"),i=0;i<t.length;i++)if(t[i].contentWindow===e)return t[i]}(t.source);setTimeout(function(){if(i&&i.parentNode.children.length>1)switch(i.parentNode.getAttribute("data-pbi-resize-load-event")){case"click":n(i);break;case"page-load":case"seconds-timeout":case"in-view":r(e(i.parentNode,"div"),"readynow")}},1e3*(i.parentNode.getAttribute("pbi-resize-delay-show")||1))}};var o=function(){for(var e=["top-hub","multis"],t=document.querySelectorAll(".pbi-resize-container"),i=0;i<t.length;i++)c(t,i,e),a(t,i)};function a(t,i){t[i].classList.contains("multis")&&!t[i].classList.contains("can-show-more")&&(t[i].classList.add("can-show-more"),e(t[i],"img").onload=function(e){var t=d()<=940;if(e.currentTarget.naturalHeight>=(t?"2400":"1040")){e.currentTarget.style.height="auto",e.currentTarget.parentNode.style.height="500px";var i=document.createElement("span");i.setAttribute("class","show-more"),i.style.position="absolute",i.style.bottom="0px",i.style.width="100%",i.style.textAlign="center",i.style.fontSize="1.3rem",i.style.lineHeight="normal",i.style.backgroundColor="#efefef",i.style.cursor="pointer",i.style.borderTop="1px #c5c5c5 solid",i.style.borderBottom="1px #c5c5c5 solid",i.style.padding="4px 0",i.textContent="Show More",i.addEventListener("click",function(e){e.currentTarget.classList.contains("show-more")?(e.currentTarget.parentNode.style.height="auto",e.currentTarget.classList.remove("show-more"),e.currentTarget.textContent="Show Less"):(e.currentTarget.parentNode.style.height="500px",e.currentTarget.classList.add("show-more"),e.currentTarget.textContent="Show More")}),e.currentTarget.parentNode.insertBefore(i,e.currentTarget)}})}function s(e,t){for(i=0;i<e.length;i++)if(t.includes(e[i]))return!0;return!1}function c(i,o,a){var c="https://app.powerbi.com/view?r=";i[o].style.width="100%";var m=d(),f=i[o].clientWidth,h=i[o].getAttribute("data-pbi-resize-mobile-min-width"),b=i[o].getAttribute("data-pbi-resize-img"),v=i[o].getAttribute("data-pbi-resize-m-img")||b,y=i[o].getAttribute("data-pbi-resize-width"),w=i[o].getAttribute("data-pbi-resize-height"),A=i[o].getAttribute("data-pbi-resize-rid");A=A?c+A:A;var N=i[o].getAttribute("data-pbi-resize-m-width"),z=i[o].getAttribute("data-pbi-resize-m-height"),E=i[o].getAttribute("data-pbi-resize-m-rid");E=E?c+E:E;var x=i[o].getAttribute("data-pbi-resize-load-event"),L=e(i[o],"img"),T=e(i[o],"iframe"),k=T?T.getAttribute("src"):null,C=z/N,S=w/y,W=m>h,M=A&&E?W?A:E:A,q=(T&&T.src===E||L&&L.src===v)&&W&&E!==A,B=(T&&T.src==A||L&&L.src==b)&&!W&&E!=A,H=i[o].children.length>1,I=!W&&v?v:b;if(L&&s(a,I)){var O=L.parentNode;(D=e(O,"div"))&&O.removeChild(D);var j=O.querySelector(".pbi-resize-spinner");j&&O.removeChild(j);var _=L.getAttribute("src");return _&&I===_||L.setAttribute("src",I),void(T&&(T.style.position="absolute",T.style.top=0,T.style.left=0,T.style.visibility="hidden"))}if(!k){if(T&&(T.style.position="absolute",T.style.top=0,T.style.left=0,T.style.visibility="hidden"),L&&L.setAttribute("src",I),!b&&A&&W||!v&&E&&!W)return T.setAttribute("src",!W&&E?E:A),n(T),void p();var D;if(b&&A||v&&E)switch(r(D=e(i[o],"div"),"waiting"),x){case"page-load":console.log("go"),g(T.parentNode,M);break;case"seconds-timeout":var R=1e3*parseInt(i[o].getAttribute("pbi-resize-seconds"));console.log(R),t=setTimeout(function(){g(T.parentNode,M)},R);break;case"in-view":H&&!T.src&&u(L)&&g(T.parentNode,M),window.addEventListener("scroll",function(){H&&!T.src&&u(L)&&g(T.parentNode,M)},!1);break;case"click":D.onclick=function(){g(T.parentNode,M)},i[o].firstChild.onclick=function(){g(T.parentNode,M)}}}k==b&&!b&&A&&W||k==v&&!v&&E&&!W?n(T):(B||q)&&function(e,t,i,n,o){if(i&&n){var a=e.nextElementSibling;e instanceof HTMLImageElement&&a.src&&o!=a.src&&(a.setAttribute("src",o),r(a.nextElementSibling,"loading"));var s=t?i:n;e.setAttribute("src",s)}}(i[o].children[0],W,H?b:A,H?v:E,M),H&&(B&&!v&&E||q&&!b&&A)?n(T):!H&&(B&&v&&!E||q&&b&&!A)&&n(T),L&&L.parentNode&&l(L,!1,f,W,S,C,w,z,!0),T&&l(T,!1,f,W,S,C,w,z,!1)}function d(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function l(e,t,i,n,r,o,a,s,c){var d=c?0:45,l=n?r:o;e.parentNode.style.height=i*l+"px",e.style.height=i*l+d+"px"}function u(e){var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function p(){if(-1!==navigator.userAgent.indexOf("MSIE")||navigator.appVersion.indexOf("Trident/")>0){var e=document.createEvent("UIEvents");e.initUIEvent("resize",!0,!1,window,0),window.dispatchEvent(e)}else window.dispatchEvent(new Event("resize"))}function g(t,i){var n=e(t,"iframe"),o=e(t,"div");o.querySelector(".pbi-resize-spinner").style.display="block",n.setAttribute("src",i),n.setAttribute("frameborder","0"),n.setAttribute("allowFullScreen","true"),r(o,"loading")}document.addEventListener("DOMContentLoaded",o),window.addEventListener("resize",o),window.addEventListener("orientationchange",o),document.addEventListener("DOMContentLoaded",function(){var e=function(){var e=document.querySelector(".pbi-resize-container");if(!e)return!1;var t=e.getAttribute("data-pbi-resize-img");if(!t)return!1;var i=t.split("/").indexOf("images");return!!i&&t.split("/")[i+1]}();if(!e)return null;fetch("https://raw.githubusercontent.com/247patrick/covid_visuals/master/json/state-info.json").then(e=>e.json()).then(t=>{t.states&&t.states[e]&&t.states[e].last_updated&&function(e){var t=document.createElement("p"),i=document.createElement("time"),n=document.getElementsByClassName("pbi-resize-container")[0];if(!n)return null;t.style.marginBottom="0.5px",t.style.fontWeight="500",t.style.textAlign="right",t.style.color="#333333",t.style.marginRight="5px",i.setAttribute("class","pbi-last-updated-time"),i.textContent=e,t.appendChild(i),n.parentNode.insertBefore(t,n)}(t.states[e].last_updated)})})}}();
